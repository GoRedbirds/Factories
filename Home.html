<!DOCTYPE html>
<html>
<head>
	<link rel='stylesheet' href='style.css'/>
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>
<body>
    <script src='script.js'></script>
    <div class="homePage">
        <h1 class="title">Factories</h1>
        <div class="ruleButton" id="button">Rules</div>
        <div class="gameButton" id="button">Play Game</div>
    </div>
    <div class="rules">
        <ol>
            <li>The goal of the game is get three credits. Credits cost $10 each.</li>
            <li>You start out with $15 dollars</li>
            <li>At the beginning of the game, all the factories are sold off through bidding
                <ul>
                    <li>The bidding starts with player 1, who has the opportunity to buy factory A</li>
                    <li>If Player 1 bids for factory A, the cost of factory A goes up 1 and player 2 has the opportunity to buy it</li>
                    <li>If player 2 puts in a bid, the cost goes up by 1 once again and the bidding swings to player 1. This goes on until one of the players decides not to put in a bid. For example, If player 2 pass, player 1 pays the price and now owns the factory</li>
                    <li>After all the factories are sold in this way, the game now continues</li>
                </ul>
            </li>
            <li>The dice will role and determine how much money each person gets</li>
        </ol>
        <div class="back" id="button">Back</div>
    </div>
    <div class="game">
        <p><button onclick="grabs()">Available Factories</button></p>
        <table>
            <tr>
                <td class="corner"><button onclick="player1facs()">1's factories</button></td>
                <td class="property" id="a">A</td>
                <td class="property" id="b">B</td>
                <td class="property" id="c">C</td>
                <td class="corner"><button onclick="player2Facs()">2's factories</button></td>
            </tr>
            <tr>
                <td class="property" id="j">J</td>
                <td rowspan="2" colspan="3" class="row"><em>Factories</em></td>
                <td class="property"  id="d">D</td>
            </tr>
            <tr>
                <td class="property"  id="i">I</td>
                <td class="property"  id="e">E</td>
            </tr>
            <tr>
                <td class="corner"><button onclick="oneMoney()">1's money</button></td>
                <td class="property" id="h">H</td>
                <td class="property"  id="g">G</td>
                <td class="property" id="f">F</td>
                <td class="corner"><button onclick="twoMoney()">2's money</button></td>
            </tr>
        </table>
        <script src='script.js'></script>
        <p><button onclick="bidding()">Begin Bidding</button></p>
        <div class="back" id="button">Back</div>
    </div>
    <script>
        var list = ["A","B","C","D","E","F","G","H","I","J"];
        var money1 = 15;
        var money2 = 15;
        var player1;
        var player2;
        var factory1 = [];
        var factory2 = [];
        var nobodies = [];
        var ja = [-5, -4, -3, -2, -1, 6];
        var bc = [-4, -3, -2, -1, 1, 2];
        var de = [-3, -2, -1, 1, 2, 3];
        var fg = [-3, -2, 0, 1, 2, 3];
        var hi = [-4, 0, 1, 2, 3, 4];
        var player1Facs = function() {
            confirm(player1 + "'s factories are " + factory1);
        }
        var player2Facs = function() {
            confirm(player2 + "'s factories are " + factory2);
        }
        var oneMoney = function() {
            confirm(player1 + " has " + money1 + "$");
        }
        var twoMoney = function() {
            confirm(player2 + " has " + money2 + "$");
        }
        var grabs = function() {
            confirm("the available factories are " + nobodies);
        }
        var bidding = function() {
            player1 = prompt("What is the first player's name?");
            player2 = prompt("What is the second player's name?");
            var askPlayer = player1;
            var notAskPlayer;
            if (askPlayer === player1) {
                notAskPlayer = player2;
            } else {
                notAskPlayer = player1;
            }
            for (var i = 0; i < list.length; i++) {
                var ask2;
                var bid = 0;
                var askBid = bid + 1;
                var redo = true;
                var ask1 = prompt(player1 + ", will you put in a bid for factory " + list[i] + "? You would have to bid " + askBid + ", and you have " + money1,"type in yes or pass").toLowerCase();
                if (ask1 === "yes") {
                    bid += 1;
                    askBid = bid + 1;
                    ask2 = prompt(player2 + ", will you put in a bid for factory " + list[i] + "? You would have to bid " + askBid ", and you have " + money2,"type in yes or pass").toLowerCase();
                    if (ask2 === "yes") {
                        bid += 1;
                        askBid = bid + 1;
                        //run the while loop
                        //other comment to draw my attention
                        while(redo) {
                            ask1 = prompt(player1 + ", will you rebid for factory " + list[i] + "? Your bid would be " + askBid + " and you have " + money1, "type in yes or pass").toLowerCase();
                            if (ask1 === "yes") {
                                bid += 1;
                                askBid = bid + 1;
                                ask2 = prompt(player2 + ", will you rebid for factory " + list[i] + "? Your bid would be " + askBid + " and you have " + money2, "type in yes or pass").toLowerCase();
                                if (ask2 === "yes") {
                                    bid += 1;
                                    askBid = bid + 1;
                                } else {
                                    factory1.push(list[i]);
                                    money1 += -bid;
                                    confirm(player1 + " has " + money1 + "$");
                                    redo = false;
                                }
                            } else {
                                factory2.push(list[i]);
                                money2 += -bid;
                                confirm(player2 + " has " + money2 + "$");
                                redo = false;
                            }
                        }
                    } else if (ask2 === "pass") {
                        factory1.push(list[i]);
                        money1 += -bid;
                        confirm(player1 + " has " + money1 + "$");
                    } else {
                        factory1.push(list[i]);
                        money1 += -bid;
                        confirm(player1 + "has " + money1 + "$");
                    }
                } else if (ask1 === "pass") {
                    ask2 = prompt(player2 + ", will you put in a bid for factory " + list[i] + "? You would have to bid " + askBid,"type in yes or pass").toLowerCase();
                    if (ask2 === "yes") {
                        bid += 1;
                        factory2.push(list[i]);
                        money2 += -bid;
                        confirm(player2 + " has " + money2 + "$");
                    } else {
                        nobodies.push(list[i]);
                    }
                }
            }
            confirm(player1 + "'s factories are " + factory1);
            confirm(player1 + " has " + money1 + "$");
            confirm(player2 + "'s factories are " + factory2);
            confirm(player2 + " has " + money2 + "$");
            confirm("The factories up for grabs are " + nobodies);
        }
    </script>
</body>
</html>